grammar org.xtext.example.mydsl.StateMachine with org.eclipse.xtext.common.Terminals

generate stateMachine "http://www.xtext.org/example/mydsl/StateMachine"

Model:
	"Name" name=STRING stateMachine += StateMachine;


StateMachine:
	{StateMachine} 
	"Start" "is" (event += Event)* "stop"
	"Reset" (eventReset += [Event])* "stop"
	"Instructions" (instructions += Instruction)* "stop"
	(state += State)*;

Instruction:
	name=STRING value=STRING;
	
Event:
	name=STRING value=STRING;

State:
	"State" name=STRING ("action" (actions +=[Instruction]) +)?
	(moves += Move)* "end";

Move:
	event=[Event] "to" state=[State];
	
    
@Override 
terminal STRING:
    '"' ( '\\'('b'|'t'|'n'|'f'|'r'|'u'|'"'|"'"|'\\') | !('\\'|'"') )* '"' |
    "'" ( '\\'('b'|'t'|'n'|'f'|'r'|'u'|'"'|"'"|'\\') | !('\\'|"'") )* "'";

terminal DOUBLE:
    INT '.' INT;